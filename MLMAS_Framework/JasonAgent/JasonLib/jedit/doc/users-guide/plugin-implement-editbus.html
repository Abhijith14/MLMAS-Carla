<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The EditBus</title><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="jEdit 4.2 User's Guide"><link rel="up" href="plugin-implement.html" title="Chapter 18. Implementing a Simple Plugin"><link rel="previous" href="plugin-implement-quicknotepadplugin.html" title="The QuickNotepadPlugin Class"><link rel="next" href="plugin-implement-properties.html" title="The Property File"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The EditBus</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="plugin-implement-quicknotepadplugin.html">Prev</a> </td><th width="60%" align="center">Chapter 18. Implementing a Simple Plugin</th><td width="20%" align="right"> <a accesskey="n" href="plugin-implement-properties.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="plugin-implement-editbus"></a>The EditBus</h2></div></div><div></div></div><p>
  Plugins register <a href="../api/org/gjt/sp/jedit/EBComponent.html" target="_top">
  <tt class="function">EBComponent</tt></a> instances with the
  <a href="../api/org/gjt/sp/jedit/EditBus.html" target="_top">
  <tt class="classname">EditBus</tt></a> to receive messages reflecting
  changes in jEdit's state.
</p><p>
  The message
  classes derived from <a href="../api/org/gjt/sp/jedit/EBMessage.html" target="_top">
  <tt class="classname">EBMessage</tt></a> cover the opening
  and closing of the application, changes in the status of buffers and views,
  changes in user settings, as well as changes in
  the state of other program features. A full list of messages can be found in the
  <a href="../api/org/gjt/sp/jedit/msg/package-summary.html" target="_top">org.gjt.sp.jedit.msg</a>
  package.
</p><p>
  <a href="../api/org/gjt/sp/jedit/EBComponent.html" target="_top">
  <tt class="function">EBComponent</tt></a>s are added and removed with the
  <a href="../api/org/gjt/sp/jedit/EditBus.html#addToBus(org.gjt.sp.jedit.EBComponent)" target="_top">
  <tt class="function">EditBus.addToBus()</tt></a> and
  <a href="../api/org/gjt/sp/jedit/EditBus.html#removeFromBus(org.gjt.sp.jedit.EBComponent)" target="_top">
  <tt class="function">EditBus.removeFromBus()</tt></a>
  methods.
</p><p>
  Typically, the <a href="../api/org/gjt/sp/jedit/EBComponent.html#handleMessage(org.gjt.sp.jedit.EBMessage)" target="_top">
  <tt class="function">EBComponent.handleMessage()</tt></a> method
  is implemented with one or more <tt class="function">if</tt> blocks that test
	 whether the message is an instance of a derived message class in
	 which the component has an interest.
</p><table border="0" bgcolor="#E0E0E0"><tr><td><pre class="programlisting">if(msg instanceof BufferUpdate) {
    // a buffer's state has changed!
}
else if(msg instanceof ViewUpdate) {
    // a view's state has changed!
}
// ... and so on</pre></td></tr></table><p>
  If a plugin core class will respond to EditBus
  messages, it can be derived from
  <a href="../api/org/gjt/sp/jedit/EBPlugin.html" target="_top">
  <tt class="classname">EBPlugin</tt></a>, in which case no explicit
  <tt class="function">addToBus()</tt> call is necessary.
  Otherwise,
  <a href="../api/org/gjt/sp/jedit/EditPlugin.html" target="_top">
  <tt class="classname">EditPlugin</tt></a> will suffice as a
  plugin base class. Note that QuickNotepad uses the latter.
</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="plugin-implement-quicknotepadplugin.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="plugin-implement.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="plugin-implement-properties.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">The QuickNotepadPlugin Class </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> The Property File</td></tr></table></div></body></html>
